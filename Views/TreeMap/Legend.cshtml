@using Syncfusion.EJ2.TreeMap;


@section ControlsSection{
    @{
        var leafBorder = new TreeMapBorder { Color = "black", Width = 0.5 };
        var colorMaps = new[]{
               new { value="Trump", color ="#D84444" },
               new { value="Clinton", color ="#316DB5" }
            };
    }
    <div class="col-lg-9 control-section">
        <div id="container">
            <ejs-treemap id="container" load="treeMapLoad" dataSource="ViewBag.dataSource" weightValuePath="Population" rangeColorValuePath="WinPercentage" equalColorValuePath="Winner" format="n" useGroupingSeparator="true">
                <e-treemap-titlesettings text="US presidential election result - 2016"></e-treemap-titlesettings>
                <e-treemap-leafitemsettings colorMapping="colorMaps" labelPath="State" fill="#6699cc" border="leafBorder"></e-treemap-leafitemsettings>
                <e-treemap-legendsettings height="10" visible="true" position="@LegendPosition.Top" shape="@LegendShape.Rectangle"></e-treemap-legendsettings>
                <e-treemap-tooltipsettings visible="true" format="<b>${Winner}<b><br>State : ${State}<br>Trump : ${Trump} %<br>Clinton : ${Clinton} %"></e-treemap-tooltipsettings>
            </ejs-treemap>
        </div>
        <div style="float: right; margin-right: 10px;">
            Source:
            <a href=" https://en.wikipedia.org/wiki/United_States_presidential_election,_2016" target="_blank">en.wikipedia.org</a>
        </div>
    </div>
<div class="col-lg-3 property-section">
    <table id="property" title="Properties" style="width: 100%">
        <tbody>
            <tr style="height: 50px">
                <td style="width: 40%">
                    <div>Legend Type</div>
                </td>
                <td style="width: 80%; height:30%">
                    <select name="selectIndex" autocomplete="off" id="legendMode" style="width:60%;">
                        <option value="Default" selected>Default</option>
                        <option value="Interactive">Interactive</option>
                    </select>
                </td>
            </tr>
        </tbody>
    </table>
</div>
}
<script>
    function treeMapLoad(args) {
        window.treemap = args.treemap;
        var theme = location.hash.split('/')[1];
        theme = theme ? theme : 'Material';
        args.treemap.theme = theme.charAt(0).toUpperCase() + theme.slice(1);
    }
    window.onload = function () {
        window.legendMode = new ej.dropdowns.DropDownList({
            index: 0,
            width: 120,
            change: function () {
                window.treemap.legendSettings.mode = window.legendMode.value;
                window.treemap.refresh();
            }
        });
        window.legendMode.appendTo('#legendMode');
    };
</script>
@section Meta{
    <meta name="description" content="This demo for Essential JS2 TreeMap control visualizes the 2016 U.S.A. presidential election results. Default and interactive are the two types of legend." />
}
@section ActionDescription{
<div id="action-description">
    <p>
        This sample visualizes USA president election results in the year 2016. Type of the legend can be changed by using the <code>Legend Type</code> in properties panel.
    </p>
</div>
}
@section Description{
<div id="description">
    <p>
        In this example, you can see the type of legend available in treemap. And we have applied equal color mapping based on certain value.
    </p>
    <p>
        Tooltip is enabled in this example. To see the tooltip in action, hover the mouse over an item or tap an item in touch enabled devices
    </p>
    <br />
    <p style="font-weight: 500">Injecting Module</p>
    <p>
        Treemap component features are segregated into individual feature-wise modules. To use a legend, inject the <code>Legend</code> module using the <code>Treemap.Inject(TreeMapLegend)</code> method.
    </p>
</div>

}












